{% extends 'base.html.twig' %}

{% block title %}Profile & Update{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .notvisible{
            display: none;
        }
    </style>
{% endblock %}

{% block body %}
    <section class="white-wrapper">
        <div class="section-inner">
            <div class="container">
                <div class="row mb60 text-center">
                    <div class="col-sm-12">
                        <h3 class="section-title">Profil</h3>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 ">
                        <div class="mb60">
                            <div class="container">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <div class="row">
                                            <div id="message" class="col-sm-12"></div>

                                            <div class="col-sm-12">
                                                <div class="col-sm-3  text-uppercase text-muted">
                                                    <h4>Pseudo</h4>
                                                </div>
                                                <div class="col-sm-6 lead">
                                                    {{app.user.pseudo}}
                                                </div>
                                                <button class="btnmodifier btn btn-primary mt30 pull-right">Modifier</button>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="modifierzone notvisible">
                                                    {{ form_start (formulairePseudoFan) }}
                                                    {{ form_row(formulairePseudoFan.pseudo, { 'attr': {'value' : app.user.pseudo, 'class': 'form-control col-md-4 mb20'} }) }}
                                                    <input type="submit" class="confbtn btn btn-primary mt30 pull-right" value="Confirmer" />
                                                    {{ form_end (formulairePseudoFan) }}
                                                </div>
                                                <br><br><br><br><hr><br>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="col-sm-3  text-uppercase text-muted">
                                                    <h4>Avatar</h4>
                                                </div>
                                                <div class="col-sm-6">
                                                    <img style="height: 250px;" src="{{ asset('/dossierFichiers/' ~ app.user.avatar)}}" alt="avatar">
                                                    <br><br>
                                                </div>
                                                <button class="btnmodifier btn btn-primary mt30 pull-right">Modifier</button>
                                            </div>                                            
                                            <div class="col-sm-12">
                                                <div class="modifierzone notvisible">
                                                    {{ form_start (formulaireAvatarFan) }}
                                                    <div class="col-sm-12 text-uppercase text-muted">
                                                        {{ form_label(formulaireAvatarFan.avatar) }}
                                                    </div>
                                                    {{ form_widget(formulaireAvatarFan.avatar, { 'attr': {'class': 'form-control col-md-4 mb20'} }) }}
                                                    <input type="submit" class="confbtn btn btn-primary mt30 pull-right" value="Confirmer" />
                                                    {{ form_end (formulaireAvatarFan) }}
                                                </div>
                                                <br><br><br><br><br><hr><br>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="col-sm-3  text-uppercase text-muted">
                                                    <h4>Email</h4>
                                                </div>
                                                <div class="col-sm-6 lead">
                                                    {{app.user.email}}
                                                </div>
                                                <button class="btnmodifier btn btn-primary mt30 pull-right">Modifier</button>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="modifierzone notvisible">
                                                    {{ form_start (formulaireEmailFan) }}
                                                    {{ form_row(formulaireEmailFan.email, { 'attr': {'value' : app.user.email, 'class': 'form-control col-md-4 mb20'} }) }}
                                                    <input type="submit" class="confbtn btn btn-primary mt30 pull-right" value="Confirmer" />
                                                    {{ form_end (formulaireEmailFan) }}
                                                </div>
                                                <br><br><br><br><hr><br>
                                            </div>

                                        </div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>                           
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}


{% block javascripts %}
    {{ parent() }}

    <script>

        var mesBtnsmodif = document.querySelectorAll('.btnmodifier');
        var mazonemodif = document.querySelectorAll('.modifierzone');
        var mesBtnconfirm = document.querySelectorAll('.confbtn');

        for (let i = mesBtnsmodif.length - 1; i >= 0; i--) {
            mesBtnsmodif[i].addEventListener('click', function (e) {
                mazonemodif[i].classList.toggle('notvisible');
            });          
        }
     
    </script>
    {# put additional JS here #}
{% endblock %}